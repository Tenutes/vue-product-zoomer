"use strict";(self.webpackChunkvue_product_zoomer=self.webpackChunkvue_product_zoomer||[]).push([[460],{503:(t,e,i)=>{i.d(e,{Z:()=>x});var o=i(252),s=i(577),n=i(963);const r=["src","data-zoom"],a={class:"thumb-list"},l=["src"],c=["src","onClick","onMouseover"],h=["src"],p=["id"];var u=i(82),m=i(655),d=i(226),b=i(852),_=i(902),g=i(359),v=i(139),y=i(733),w=i(724);const f={name:"ProductZoomer",props:{baseZoomerOptions:{type:Object,default:()=>({})},baseImages:{type:Object,required:!0,default:()=>({})}},data:()=>({previewImg:{},previewLargeImg:{},thumbs:[],normal_size:[],large_size:[],choosedThumb:{},drift:null,options:{zoomFactor:4,pane:"container",hoverDelay:300,namespace:"container-zoomer",move_by_click:!0,scroll_items:4,choosed_thumb_border_color:"#FF3D00",scroller_button_style:"line",scroller_position:"left",zoomer_pane_position:"right"}}),computed:{base_container_div(){return document.querySelector(`.${this.options.namespace}-base-container`)},pane_container_id(){return this.options.namespace+"-pane-container"},preview_img(){return`.${this.options.namespace}-base-container .preview-box`},scroller_icon_first(){return["top","bottom"].includes(this.options.scroller_position)?"line"===this.options.scroller_button_style?_.Z:b.Z:["left","right"].includes(this.options.scroller_position)?"line"===this.options.scroller_button_style?w.Z:y.Z:void 0},scroller_icon_second(){return["top","bottom"].includes(this.options.scroller_position)?"line"===this.options.scroller_button_style?v.Z:g.Z:["left","right"].includes(this.options.scroller_position)?"line"===this.options.scroller_button_style?d.Z:m.Z:void 0}},mounted(){if(!["left","right","top","bottom"].includes(this.options.scroller_position))throw"scroller_position is invalid";if(!["fill","line"].includes(this.options.scroller_button_style))throw"scroller_button_style is invalid";if(!["left","right"].includes(this.options.zoomer_pane_position))throw"zoomer_pane_position is invalid";this.$nextTick((()=>{var t;if(this[(t=this.options.scroller_position,"scrollerAt"+(t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()))](),this.options.injectBaseStyles=!0,"container-round"===this.options.pane)this.options.inlinePane=!0;else{this.options.inlinePane=!1,this.options.paneContainer=document.getElementById(this.pane_container_id);const t=document.querySelector(`.${this.options.namespace}-base-container`).getBoundingClientRect();document.getElementById(this.pane_container_id).setAttribute("style",((t="pane",e,i)=>"left"===i?"width:"+e.width+"px;height:"+e.height+"px;left:"+("container"===t?0:0-e.width-window.scrollX-5)+"px;":"right"===i?"width:"+e.width+"px;height:"+e.height+"px;left:"+("container"===t?0:e.width+window.scrollX+5)+"px;":"")(this.options.pane,t,this.options.zoomer_pane_position))}this.drift=new u.Z(document.querySelector(this.preview_img),this.options)}))},watch:{choosedThumb(t){const e=this.normal_size.find((e=>e.id===t.id)),i=this.large_size.find((e=>e.id===t.id));this.previewLargeImg=Object.assign({},i),this.previewImg=Object.assign({},e),null!==this.drift&&this.drift.setZoomImageURL(i.url)}},created(){if(Object.keys(this.baseImages).length>0)for(const t in this.baseImages)this.baseImages.hasOwnProperty(t)&&(this[t]=this.baseImages[t]);if(0===this.normal_size.length)throw"Product Zoomer Need Normal Size Image At Least!!!";if(0===this.thumbs.length?this.thumbs=Object.assign([],this.normal_size):this.choosedThumb=this.thumbs[0],0===this.large_size.length&&(this.large_size=Object.assign([],this.normal_size)),Object.keys(this.baseZoomerOptions).length>0)for(const t in this.baseZoomerOptions)this.baseZoomerOptions.hasOwnProperty(t)&&(this.options[t]=this.baseZoomerOptions[t]);this.options.hoverBoundingBox=!("container-round"===this.options.pane||"container"===this.options.pane)},methods:{moveThumbs(t){const e=this.thumbs.length;if("backward"===t){const t=this.thumbs.splice(e-1,1);this.thumbs=[t[0],...this.thumbs]}else{const t=this.thumbs.splice(0,1);this.thumbs=[...this.thumbs,t[0]]}},chooseThumb(t,{type:e}){"mouseover"===e?!0!==this.options.move_by_click&&(this.choosedThumb=t):this.choosedThumb=t},scrollerAtBottom(){const t=parseInt(this.baseZoomerOptions.scroll_items)+2,e=document.querySelector(`.${this.options.namespace}-base-container .preview-box`),i=document.querySelector(`.${this.options.namespace}-base-container .thumb-list`),o=i.children[1].naturalHeight*(e.naturalWidth/i.children[1].naturalWidth)/(t-1);document.querySelector(`.${this.options.namespace}-base-container`).setAttribute("style","height:"+(e.naturalHeight+o+2)+"px;width:"+e.naturalHeight+"px;position:relative"),document.querySelector("."+this.options.namespace+"-base-container .thumb-list").setAttribute("style","width:"+e.naturalWidth+"px;height:"+o+"px;grid-template-columns:calc(100%/"+t+"/2) repeat("+(t-2)+", auto) calc(100%/"+t+"/2);visibility:visible;")},scrollerAtTop(){const t=parseInt(this.baseZoomerOptions.scroll_items)+2,e=document.querySelector("."+this.options.namespace+"-base-container .preview-box"),i=document.querySelector("."+this.options.namespace+"-base-container .thumb-list"),o=i?i.children[1].naturalHeight*(e.naturalWidth/i.children[1].naturalWidth)/(t-1):0;document.querySelector("."+this.options.namespace+"-base-container").setAttribute("style","height:"+(e.naturalHeight+o+2)+"px;width:"+e.naturalHeight+"px;position:relative"),document.querySelector(`.${this.options.namespace}-base-container .thumb-list`).setAttribute("style","width:"+e.naturalWidth+"px;height:"+o+"px;grid-template-columns:calc(100%/"+t+"/2) repeat("+(t-2)+", auto) calc(100%/"+t+"/2);visibility:visible;")},scrollerAtRight(){const t=parseInt(this.baseZoomerOptions.scroll_items)+2,e=document.querySelector("."+this.options.namespace+"-base-container .preview-box"),i=document.querySelector("."+this.options.namespace+"-base-container .thumb-list"),o=i.children[1].naturalWidth*(e.naturalHeight/i.children[1].naturalHeight)/(t-1);document.querySelector(`.${this.options.namespace}-base-container`).setAttribute("style","width:"+(e.naturalWidth+o+2)+"px;position:relative"),document.querySelector(`.${this.options.namespace}-base-container .thumb-list`).setAttribute("style","height:"+e.naturalHeight+"px;width:"+o+"px;grid-template-rows:calc(100%/"+t+"/2) repeat("+(t-2)+", auto) calc(100%/"+t+"/2);visibility:visible;")},scrollerAtLeft(){const t=parseInt(this.baseZoomerOptions.scroll_items)+2,e=document.querySelector(`.${this.options.namespace}-base-container .preview-box`),i=document.querySelector(`.${this.options.namespace}-base-container .thumb-list`),o=i.children[1].naturalWidth*(e.naturalHeight/i.children[1].naturalHeight)/(t-1);document.querySelector(`.${this.options.namespace}-base-container`).setAttribute("style","width:"+(e.naturalWidth+o+2)+"px;position:relative"),document.querySelector(`.${this.options.namespace}-base-container .thumb-list`).setAttribute("style","height:"+e.naturalHeight+"px;width:"+o+"px;grid-template-rows:calc(100%/"+t+"/2) repeat("+(t-2)+", auto) calc(100%/"+t+"/2);visibility:visible;")}}};const x=(0,i(744).Z)(f,[["render",function(t,e,i,u,m,d){return(0,o.wg)(),(0,o.iD)("div",{class:(0,s.C_)(m.options.namespace+"-base-container scroller-at-"+m.options.scroller_position)},[(0,o._)("img",{src:m.previewImg.url,"data-zoom":m.previewLargeImg.url,class:"responsive-image preview-box",draggable:"false"},null,8,r),(0,o._)("div",a,[(0,o._)("img",{src:d.scroller_icon_first,class:"zoomer-control responsive-image",alt:"move thumb icon",onClick:e[0]||(e[0]=t=>d.moveThumbs("backward"))},null,8,l),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.thumbs,((t,e)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("img",{key:e,src:t.url,style:(0,s.j5)({boxShadow:t.id===m.choosedThumb.id?"0 0 0 2px "+m.options.choosed_thumb_border_color:""}),class:(0,s.C_)([{"choosed-thumb":t.id===m.choosedThumb.id},"responsive-image"]),draggable:"false",onClick:e=>d.chooseThumb(t,e),onMouseover:e=>d.chooseThumb(t,e)},null,46,c)),[[n.F8,e<m.options.scroll_items]]))),128)),(0,o._)("img",{src:d.scroller_icon_second,class:"zoomer-control responsive-image",alt:"move thumb icon",onClick:e[1]||(e[1]=t=>d.moveThumbs("forward"))},null,8,h)]),(0,o._)("div",{id:d.pane_container_id,class:"pane-container"},null,8,p)],2)}],["__scopeId","data-v-512d1e1e"]])}}]);